<!doctype html>
<head>
  <script src="/-/@webcomponents/webcomponentsjs@2.2.8/webcomponents-bundle.js"></script>
  <script type="module" src="/-/es-module-shims@0.4.6/dist/es-module-shims.js"></script>
  <script type="importmap-shim" src="/-/importmap.json">                     
  </script>
  <script type="module-shim">
    import { useState, virtual, component, html, render } from 'haunted@4';

    const Counter = virtual(() => {
      const [count, setCount] = useState(0);
    
      return html`
        <button type="button"
          @click=${() => setCount(count + 1)}>${count}</button>
      `;
    });
    
    const App = component(() => {
      return html`
        <main>
          <h1>My app</h1>
    
          ${Counter()}
        </main>
      `;
    });
    
    customElements.define('my-app', App);
  </script>
</head>
<body>
  <my-app></my-app>  
</body>